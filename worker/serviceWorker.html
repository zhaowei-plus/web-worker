<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    if (navigator.serviceWorker != null) {
        // 使用浏览器特定方法注册一个新的service worker   返回值是promise对象
        navigator.serviceWorker.register('sw.js')
            .then(function(registration) {
                window.registration = registration;
                console.log('Registered events at scope: ', registration.scope);
            });
    }

    fetch("./data.json")
    fetch("./offline.json").then((res)=>{
        console.log("offlinetest");
    })
    var statusEl = document.querySelector("#network-status");
    // js监测在线离线状态
    if(!navigator.onLine) {
        // 返回元素类名
        statusEl.classList = ["is-offline"];
        statusEl.innerText = 'offline';
    }
</script>

</body>
</html>